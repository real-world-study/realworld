def generated = "${buildDir}/generated/querydsl"
sourceSets {
    main.java.srcDirs generated
}

tasks.withType(JavaCompile) {
    options.annotationProcessorGeneratedSourcesDirectory = file(generated)
}

clean.doLast {
    file(generated).deleteDir()
}